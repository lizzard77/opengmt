const Fe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};Fe();function E(){}function Ke(t,e){for(const n in e)t[n]=e[n];return t}function Le(t){return t()}function ge(){return Object.create(null)}function U(t){t.forEach(Le)}function Ge(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Je(t){return Object.keys(t).length===0}function Ue(t,e,n,l){if(t){const o=Be(t,e,n,l);return t[0](o)}}function Be(t,e,n,l){return t[1]&&l?Ke(n.ctx.slice(),t[1](l(e))):n.ctx}function Ze(t,e,n,l){if(t[2]&&l){const o=t[2](l(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const r=[],i=Math.max(e.dirty.length,o.length);for(let s=0;s<i;s+=1)r[s]=e.dirty[s]|o[s];return r}return e.dirty|o}return e.dirty}function He(t,e,n,l,o,r){if(o){const i=Be(e,n,l,r);t.p(i,o)}}function Ie(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function b(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function C(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function Y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function R(){return O(" ")}function D(){return O("")}function P(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function re(t){return t===""?null:+t}function Ve(t){return Array.from(t.childNodes)}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function le(t,e){t.value=e==null?"":e}function M(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function _e(t,e,n){t.classList[n?"add":"remove"](e)}let ae;function V(t){ae=t}const K=[],W=[],te=[],ce=[],$e=Promise.resolve();let fe=!1;function et(){fe||(fe=!0,$e.then(Te))}function oe(t){te.push(t)}function G(t){ce.push(t)}const se=new Set;let ee=0;function Te(){const t=ae;do{for(;ee<K.length;){const e=K[ee];ee++,V(e),tt(e.$$)}for(V(null),K.length=0,ee=0;W.length;)W.pop()();for(let e=0;e<te.length;e+=1){const n=te[e];se.has(n)||(se.add(n),n())}te.length=0}while(K.length);for(;ce.length;)ce.pop()();fe=!1,se.clear(),V(t)}function tt(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(oe)}}const ne=new Set;let T;function nt(){T={r:0,c:[],p:T}}function lt(){T.r||U(T.c),T=T.p}function A(t,e){t&&t.i&&(ne.delete(t),t.i(e))}function N(t,e,n,l){if(t&&t.o){if(ne.has(t))return;ne.add(t),T.c.push(()=>{ne.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function J(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function I(t){t&&t.c()}function Q(t,e,n,l){const{fragment:o,on_mount:r,on_destroy:i,after_update:s}=t.$$;o&&o.m(e,n),l||oe(()=>{const f=r.map(Le).filter(Ge);i?i.push(...f):U(f),t.$$.on_mount=[]}),s.forEach(oe)}function j(t,e){const n=t.$$;n.fragment!==null&&(U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(t,e){t.$$.dirty[0]===-1&&(K.push(t),et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Z(t,e,n,l,o,r,i,s=[-1]){const f=ae;V(t);const c=t.$$={fragment:null,ctx:null,props:r,update:E,not_equal:o,bound:ge(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:ge(),dirty:s,skip_bound:!1,root:e.target||f.$$.root};i&&i(c.root);let a=!1;if(c.ctx=n?n(t,e.props||{},(g,q,..._)=>{const u=_.length?_[0]:q;return c.ctx&&o(c.ctx[g],c.ctx[g]=u)&&(!c.skip_bound&&c.bound[g]&&c.bound[g](u),a&&ot(t,g)),q}):[],c.update(),a=!0,U(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const g=Ve(e.target);c.fragment&&c.fragment.l(g),g.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&A(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),Te()}V(f)}class H{$destroy(){j(this,1),this.$destroy=E}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!Je(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function rt(t){let e,n,l,o;const r=t[8].default,i=Ue(r,t,t[7],null);return{c(){e=v("section"),i&&i.c(),M(e,"left",t[0]+"px"),M(e,"top",t[1]+"px"),m(e,"class","draggable svelte-1ms01q6")},m(s,f){y(s,e,f),i&&i.m(e,null),n=!0,l||(o=[P(window,"mouseup",t[4]),P(window,"mousemove",t[3]),P(window,"touchmove",t[6]),P(e,"mousedown",t[2]),P(e,"touchstart",t[5])],l=!0)},p(s,[f]){i&&i.p&&(!n||f&128)&&He(i,r,s,s[7],n?Ze(r,s[7],f,null):Ie(s[7]),null),(!n||f&1)&&M(e,"left",s[0]+"px"),(!n||f&2)&&M(e,"top",s[1]+"px")},i(s){n||(A(i,s),n=!0)},o(s){N(i,s),n=!1},d(s){s&&w(e),i&&i.d(s),l=!1,U(o)}}}function it(t,e,n){let{$$slots:l={},$$scope:o}=e,{left:r=0}=e,{top:i=0}=e,s=!1,f={x:0,y:0};function c(u){console.log("down"),s=!0}function a(u){s&&(console.log("move"),n(0,r+=u.movementX),n(1,i+=u.movementY))}function g(){console.log("up"),s=!1}function q(u){console.log("touch start"),s=!0,f.X=u.touches[0].clientX,f.y=u.touches[0].clientY}function _(u){console.log("touch move",u.touches[0]),n(0,r+=u.touches[0].clientX-f.X),n(1,i+=u.touches[0].clientY-f.y),f.X=u.touches[0].clientX,f.y=u.touches[0].clientY}return t.$$set=u=>{"left"in u&&n(0,r=u.left),"top"in u&&n(1,i=u.top),"$$scope"in u&&n(7,o=u.$$scope)},[r,i,c,a,g,q,_,o,l]}class st extends H{constructor(e){super(),Z(this,e,it,rt,B,{left:0,top:1})}}function be(t,e,n){const l=t.slice();return l[11]=e[n],l}function we(t,e,n){const l=t.slice();return l[18]=e[n],l[20]=n,l}function ye(t,e,n){const l=t.slice();return l[11]=e[n],l[12]=e,l[13]=n,l}function ke(t,e,n){const l=t.slice();return l[11]=e[n],l}function ct(t){let e,n,l,o;return{c(){e=v("div"),n=v("button"),n.textContent="W\xFCrfel",m(n,"class","border-2 rounded-xl p-2 m-2 bg-black text-white"),m(e,"class","m-0 absolute bottom-4 right-4 flex items-center")},m(r,i){y(r,e,i),b(e,n),l||(o=P(n,"click",t[10]),l=!0)},p:E,d(r){r&&w(e),l=!1,o()}}}function ft(t){let e,n,l,o,r;function i(c,a){return c[1]?at:ut}let s=i(t),f=s(t);return{c(){e=v("div"),n=R(),l=v("div"),f.c(),m(e,"class","absolute left-0 top-0 bg-black opacity-50 z-30 h-screen w-screen"),m(l,"class","m-0 absolute bottom-4 right-4 flex items-center z-50 portrait:flex-col")},m(c,a){y(c,e,a),y(c,n,a),y(c,l,a),f.m(l,null),o||(r=P(e,"click",t[7]),o=!0)},p(c,a){s===(s=i(c))&&f?f.p(c,a):(f.d(1),f=s(c),f&&(f.c(),f.m(l,null)))},d(c){c&&w(e),c&&w(n),c&&w(l),f.d(),o=!1,r()}}}function at(t){let e,n,l,o,r,i=t[0],s=[];for(let f=0;f<i.length;f+=1)s[f]=Se(be(t,i,f));return{c(){e=v("div");for(let f=0;f<s.length;f+=1)s[f].c();n=R(),l=v("button"),l.textContent="X",m(l,"class","border-2 rounded-full p-1 text-center bg-slate-200"),m(e,"class","border-2 rounded-xl p-4 m-4 flex bg-black portrait:flex-col")},m(f,c){y(f,e,c);for(let a=0;a<s.length;a+=1)s[a].m(e,null);b(e,n),b(e,l),o||(r=P(l,"click",t[5]),o=!0)},p(f,c){if(c&1){i=f[0];let a;for(a=0;a<i.length;a+=1){const g=be(f,i,a);s[a]?s[a].p(g,c):(s[a]=Se(g),s[a].c(),s[a].m(e,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(f){f&&w(e),C(s,f),o=!1,r()}}}function ut(t){let e,n,l,o=t[3],r=[];for(let s=0;s<o.length;s+=1)r[s]=qe(ke(t,o,s));let i=t[0].length>0&&xe(t);return{c(){e=v("div");for(let s=0;s<r.length;s+=1)r[s].c();n=R(),i&&i.c(),l=D(),m(e,"class","border-2 rounded-xl p-2 m-2 flex bg-black portrait:flex-col")},m(s,f){y(s,e,f);for(let c=0;c<r.length;c+=1)r[c].m(e,null);y(s,n,f),i&&i.m(s,f),y(s,l,f)},p(s,f){if(f&72){o=s[3];let c;for(c=0;c<o.length;c+=1){const a=ke(s,o,c);r[c]?r[c].p(a,f):(r[c]=qe(a),r[c].c(),r[c].m(e,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=o.length}s[0].length>0?i?i.p(s,f):(i=xe(s),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(s){s&&w(e),C(r,s),s&&w(n),i&&i.d(s),s&&w(l)}}}function ve(t){let e;return{c(){e=O("+")},m(n,l){y(n,e,l)},d(n){n&&w(e)}}}function ze(t){let e=t[18]+"",n,l,o,r=t[20]<t[11].values.length-1&&ve();return{c(){n=O(e),l=R(),r&&r.c(),o=D()},m(i,s){y(i,n,s),y(i,l,s),r&&r.m(i,s),y(i,o,s)},p(i,s){s&1&&e!==(e=i[18]+"")&&L(n,e),i[20]<i[11].values.length-1?r||(r=ve(),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(i){i&&w(n),i&&w(l),r&&r.d(i),i&&w(o)}}}function dt(t){let e=t[11].modifier+"",n;return{c(){n=O(e)},m(l,o){y(l,n,o)},p(l,o){o&1&&e!==(e=l[11].modifier+"")&&L(n,e)},d(l){l&&w(n)}}}function ht(t){let e,n=t[11].modifier+"",l;return{c(){e=O("+ "),l=O(n)},m(o,r){y(o,e,r),y(o,l,r)},p(o,r){r&1&&n!==(n=o[11].modifier+"")&&L(l,n)},d(o){o&&w(e),o&&w(l)}}}function Se(t){let e,n,l=t[11].name+"",o,r,i,s,f,c,a,g=Pe(t[11])+"",q,_=t[11].values,u=[];for(let d=0;d<_.length;d+=1)u[d]=ze(we(t,_,d));function k(d,p){if(d[11].modifier>0)return ht;if(d[11].modifier<0)return dt}let z=k(t),h=z&&z(t);return{c(){e=v("div"),n=v("div"),o=O(l),r=R(),i=v("div");for(let d=0;d<u.length;d+=1)u[d].c();s=R(),h&&h.c(),f=R(),c=v("div"),a=O("= "),q=O(g),m(n,"class","pr-4"),m(i,"class","text-2xl"),m(c,"class","text-4xl"),m(e,"class","border-2 rounded-lg h-16 flex justify-center items-center text-white pl-2 pr-2")},m(d,p){y(d,e,p),b(e,n),b(n,o),b(e,r),b(e,i);for(let S=0;S<u.length;S+=1)u[S].m(i,null);b(i,s),h&&h.m(i,null),b(e,f),b(e,c),b(c,a),b(c,q)},p(d,p){if(p&1&&l!==(l=d[11].name+"")&&L(o,l),p&1){_=d[11].values;let S;for(S=0;S<_.length;S+=1){const $=we(d,_,S);u[S]?u[S].p($,p):(u[S]=ze($),u[S].c(),u[S].m(i,s))}for(;S<u.length;S+=1)u[S].d(1);u.length=_.length}z===(z=k(d))&&h?h.p(d,p):(h&&h.d(1),h=z&&z(d),h&&(h.c(),h.m(i,null))),p&1&&g!==(g=Pe(d[11])+"")&&L(q,g)},d(d){d&&w(e),C(u,d),h&&h.d()}}}function qe(t){let e,n=t[11].name+"",l,o,r;function i(){return t[8](t[11])}return{c(){e=v("div"),l=O(n),m(e,"class","border-2 m-1 bg-white rounded-full w-16 h-16 grid place-items-center")},m(s,f){y(s,e,f),b(e,l),o||(r=P(e,"click",i),o=!0)},p(s,f){t=s},d(s){s&&w(e),o=!1,r()}}}function xe(t){let e,n,l,o,r,i=t[0],s=[];for(let f=0;f<i.length;f+=1)s[f]=Me(ye(t,i,f));return{c(){e=v("div");for(let f=0;f<s.length;f+=1)s[f].c();n=R(),l=v("button"),l.textContent="Roll",m(l,"class","border-2 rounded-lg w-16 h-16 text-center bg-slate-200"),m(e,"class","border-2 rounded-xl p-2 m-2 flex bg-slate-200")},m(f,c){y(f,e,c);for(let a=0;a<s.length;a+=1)s[a].m(e,null);b(e,n),b(e,l),o||(r=P(l,"click",t[4]),o=!0)},p(f,c){if(c&1){i=f[0];let a;for(a=0;a<i.length;a+=1){const g=ye(f,i,a);s[a]?s[a].p(g,c):(s[a]=Me(g),s[a].c(),s[a].m(e,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(f){f&&w(e),C(s,f),o=!1,r()}}}function Me(t){let e,n=t[11].number+"",l,o=t[11].name+"",r,i,s,f,c,a,g;function q(){t[9].call(c,t[12],t[13])}return{c(){e=v("div"),l=O(n),r=O(o),i=R(),s=v("br"),f=R(),c=v("input"),m(c,"type","number"),m(c,"class","w-10 bg-slate-100 text-center"),m(e,"class","border-2 rounded-lg w-16 h-16 grid place-items-center")},m(_,u){y(_,e,u),b(e,l),b(e,r),b(e,i),b(e,s),b(e,f),b(e,c),le(c,t[11].modifier),a||(g=P(c,"input",q),a=!0)},p(_,u){t=_,u&1&&n!==(n=t[11].number+"")&&L(l,n),u&1&&o!==(o=t[11].name+"")&&L(r,o),u&1&&re(c.value)!==t[11].modifier&&le(c,t[11].modifier)},d(_){_&&w(e),a=!1,g()}}}function mt(t){let e;function n(r,i){return r[2]?ft:ct}let l=n(t),o=l(t);return{c(){o.c(),e=D()},m(r,i){o.m(r,i),y(r,e,i)},p(r,[i]){l===(l=n(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(e.parentNode,e)))},i:E,o:E,d(r){o.d(r),r&&w(e)}}}function Pe(t){return t.values.reduce((e,n)=>e+n)+t.modifier}function pt(t,e,n){let l=[{name:"W4",sides:4,values:[],number:0,modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W6",sides:6,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W8",sides:8,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W10",sides:10,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W12",sides:12,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W20",sides:20,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"},{number:0,name:"W100",sides:100,values:[],modifier:0,image:"https://i.imgur.com/XyqQZQs.png"}],o=[],r=!1;function i(){o.forEach(u=>{for(var k=0;k<u.number;k++)u.values.push(Math.floor(Math.random()*u.sides)+1)}),n(0,o),n(1,r=!0)}function s(){n(1,r=!1),n(0,o=[]),l.forEach(u=>{u.values=[],u.modifier=0}),n(2,c=!1)}function f(u){const k=o.find(z=>z.name===u.name);k?k.number++:n(0,o=[...o,{...u,number:1}]),n(0,o)}let c=!1;const a=()=>n(2,c=!1),g=u=>f(u);function q(u,k){u[k].modifier=re(this.value),n(0,o)}return[o,r,c,l,i,s,f,a,g,q,()=>n(2,c=!0)]}class gt extends H{constructor(e){super(),Z(this,e,pt,mt,B,{})}}function Re(t,e,n){const l=t.slice();return l[15]=e[n],l}function Oe(t,e,n){const l=t.slice();return l[18]=e[n],l[20]=n,l}function Ee(t,e,n){const l=t.slice();return l[18]=e[n],l[20]=n,l}function Ae(t){let e,n,l;return{c(){e=Y("line"),m(e,"x1",n=t[20]),m(e,"y1","0"),m(e,"x2",l=t[20]),m(e,"y2",F),M(e,"stroke","rgb(255,255,255)"),M(e,"stroke-width","0.01"),M(e,"opacity","0.3")},m(o,r){y(o,e,r)},p:E,d(o){o&&w(e)}}}function Ne(t){let e,n,l;return{c(){e=Y("line"),m(e,"x1","0"),m(e,"y1",n=t[20]),m(e,"x2",t[6]),m(e,"y2",l=t[20]),M(e,"stroke","rgb(255,255,255)"),M(e,"stroke-width","0.01"),M(e,"opacity","0.3")},m(o,r){y(o,e,r)},p(o,r){r&64&&m(e,"x2",o[6])},d(o){o&&w(e)}}}function Xe(t){let e,n,l,o,r,i,s,f;return{c(){e=Y("circle"),r=Y("circle"),m(e,"cx",n=t[1][t[4]].x),m(e,"cy",l=t[1][t[4]].y),m(e,"r",o=t[8]*t[1][t[4]].reach),M(e,"fill","white"),M(e,"stroke","rgb(100,100,100)"),M(e,"opacity","0.4"),M(e,"stroke-width","0.01"),m(r,"cx",i=t[1][t[4]].x),m(r,"cy",s=t[1][t[4]].y),m(r,"r",f=t[8]*5),M(r,"fill","white"),M(r,"stroke","rgb(100,100,100)"),M(r,"opacity","0.4"),M(r,"stroke-width","0.01")},m(c,a){y(c,e,a),y(c,r,a)},p(c,a){a&18&&n!==(n=c[1][c[4]].x)&&m(e,"cx",n),a&18&&l!==(l=c[1][c[4]].y)&&m(e,"cy",l),a&274&&o!==(o=c[8]*c[1][c[4]].reach)&&m(e,"r",o),a&18&&i!==(i=c[1][c[4]].x)&&m(r,"cx",i),a&18&&s!==(s=c[1][c[4]].y)&&m(r,"cy",s),a&256&&f!==(f=c[8]*5)&&m(r,"r",f)},d(c){c&&w(e),c&&w(r)}}}function Qe(t){let e,n,l,o;return{c(){e=Y("circle"),m(e,"cx",n=t[15].x),m(e,"cy",l=t[15].y),m(e,"r",o=t[8]*t[15].size),M(e,"fill",t[15].color)},m(r,i){y(r,e,i)},p(r,i){i&2&&n!==(n=r[15].x)&&m(e,"cx",n),i&2&&l!==(l=r[15].y)&&m(e,"cy",l),i&258&&o!==(o=r[8]*r[15].size)&&m(e,"r",o),i&2&&M(e,"fill",r[15].color)},d(r){r&&w(e)}}}function _t(t){let e,n,l,o,r,i,s,f,c,a=Array(t[6]),g=[];for(let h=0;h<a.length;h+=1)g[h]=Ae(Ee(t,a,h));let q=Array(F),_=[];for(let h=0;h<q.length;h+=1)_[h]=Ne(Oe(t,q,h));let u=t[3]&&Xe(t),k=t[1],z=[];for(let h=0;h<k.length;h+=1)z[h]=Qe(Re(t,k,h));return{c(){e=v("div"),n=Y("svg"),l=Y("image");for(let h=0;h<g.length;h+=1)g[h].c();o=D();for(let h=0;h<_.length;h+=1)_[h].c();r=D(),u&&u.c(),i=D();for(let h=0;h<z.length;h+=1)z[h].c();m(l,"href",t[5]),m(l,"x","0"),m(l,"y","0"),m(l,"width",t[6]),m(l,"height",F),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"viewBox",s="0 0 "+t[6]+" "+F),M(n,"width",t[0]+"px"),M(n,"height",t[2]+"px"),m(e,"class","absolute left-0 -top-0 m-0")},m(h,d){y(h,e,d),b(e,n),b(n,l);for(let p=0;p<g.length;p+=1)g[p].m(n,null);b(n,o);for(let p=0;p<_.length;p+=1)_[p].m(n,null);b(n,r),u&&u.m(n,null),b(n,i);for(let p=0;p<z.length;p+=1)z[p].m(n,null);t[13](n),f||(c=[P(window,"keydown",t[9]),P(n,"click",t[10])],f=!0)},p(h,[d]){if(d&32&&m(l,"href",h[5]),d&64&&m(l,"width",h[6]),d&64){a=Array(h[6]);let p;for(p=0;p<a.length;p+=1){const S=Ee(h,a,p);g[p]?g[p].p(S,d):(g[p]=Ae(S),g[p].c(),g[p].m(n,o))}for(;p<g.length;p+=1)g[p].d(1);g.length=a.length}if(d&64){q=Array(F);let p;for(p=0;p<q.length;p+=1){const S=Oe(h,q,p);_[p]?_[p].p(S,d):(_[p]=Ne(S),_[p].c(),_[p].m(n,r))}for(;p<_.length;p+=1)_[p].d(1);_.length=q.length}if(h[3]?u?u.p(h,d):(u=Xe(h),u.c(),u.m(n,i)):u&&(u.d(1),u=null),d&258){k=h[1];let p;for(p=0;p<k.length;p+=1){const S=Re(h,k,p);z[p]?z[p].p(S,d):(z[p]=Qe(S),z[p].c(),z[p].m(n,null))}for(;p<z.length;p+=1)z[p].d(1);z.length=k.length}d&64&&s!==(s="0 0 "+h[6]+" "+F)&&m(n,"viewBox",s),d&1&&M(n,"width",h[0]+"px"),d&4&&M(n,"height",h[2]+"px")},i:E,o:E,d(h){h&&w(e),C(g,h),C(_,h),u&&u.d(),C(z,h),t[13](null),f=!1,U(c)}}}let bt=2048,wt=1536,F=15;function yt(t,e,n){let{players:l=[]}=e,{footPerSquare:o=10}=e,{showReach:r=!0}=e,{player:i=0}=e,{imageUrl:s=""}=e,{imageWidth:f=2048}=e,{imageHeight:c=1536}=e,{zoom:a=1}=e,g,{width:q=20}=e,_=1,u=0;function k(d){d.code==="ArrowLeft"&&(n(1,l[i].x=Math.max(l[i].x-.25,0),l),d.preventDefault()),d.code==="ArrowRight"&&(n(1,l[i].x=Math.max(l[i].x+.25,0),l),d.preventDefault()),d.code==="ArrowUp"&&(n(1,l[i].y=Math.max(l[i].y-.25,0),l),d.preventDefault()),d.code==="ArrowDown"&&(n(1,l[i].y=Math.max(l[i].y+.25,0),l),d.preventDefault())}function z(d){console.log(d),n(1,l[i].x=d.offsetX/u,l),n(1,l[i].y=d.offsetY/u,l),console.log(l[i])}function h(d){W[d?"unshift":"push"](()=>{g=d,n(7,g)})}return t.$$set=d=>{"players"in d&&n(1,l=d.players),"footPerSquare"in d&&n(11,o=d.footPerSquare),"showReach"in d&&n(3,r=d.showReach),"player"in d&&n(4,i=d.player),"imageUrl"in d&&n(5,s=d.imageUrl),"imageWidth"in d&&n(0,f=d.imageWidth),"imageHeight"in d&&n(2,c=d.imageHeight),"zoom"in d&&n(12,a=d.zoom),"width"in d&&n(6,q=d.width)},t.$$.update=()=>{t.$$.dirty&6337&&(g&&(n(0,f=bt*a),n(2,c=wt*a),u=f/q),n(8,_=1/o))},[f,l,c,r,i,s,q,g,_,k,z,o,a,h]}class kt extends H{constructor(e){super(),Z(this,e,yt,_t,B,{players:1,footPerSquare:11,showReach:3,player:4,imageUrl:5,imageWidth:0,imageHeight:2,zoom:12,width:6})}}function je(t){let e,n,l,o,r,i;const s=t[2].default,f=Ue(s,t,t[1],null);return{c(){e=v("div"),f&&f.c(),n=R(),l=v("div"),m(e,"class","absolute top-[10%] left-[10%] w-[80%] h-[80%] z-50"),m(l,"class","absolute left-0 top-0 bg-black opacity-50 z-30 h-screen w-screen")},m(c,a){y(c,e,a),f&&f.m(e,null),y(c,n,a),y(c,l,a),o=!0,r||(i=P(l,"click",t[3]),r=!0)},p(c,a){f&&f.p&&(!o||a&2)&&He(f,s,c,c[1],o?Ze(s,c[1],a,null):Ie(c[1]),null)},i(c){o||(A(f,c),o=!0)},o(c){N(f,c),o=!1},d(c){c&&w(e),f&&f.d(c),c&&w(n),c&&w(l),r=!1,i()}}}function vt(t){let e,n,l=t[0]&&je(t);return{c(){l&&l.c(),e=D()},m(o,r){l&&l.m(o,r),y(o,e,r),n=!0},p(o,[r]){o[0]?l?(l.p(o,r),r&1&&A(l,1)):(l=je(o),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(nt(),N(l,1,1,()=>{l=null}),lt())},i(o){n||(A(l),n=!0)},o(o){N(l),n=!1},d(o){l&&l.d(o),o&&w(e)}}}function zt(t,e,n){let{$$slots:l={},$$scope:o}=e,{isOpen:r=!0}=e;const i=()=>n(0,r=!1);return t.$$set=s=>{"isOpen"in s&&n(0,r=s.isOpen),"$$scope"in s&&n(1,o=s.$$scope)},[r,o,l,i]}class St extends H{constructor(e){super(),Z(this,e,zt,vt,B,{isOpen:0})}}function qt(t){let e,n,l,o,r,i,s,f,c,a,g,q,_,u,k,z,h,d;return{c(){e=v("div"),n=v("input"),l=O(` Reichweite anzeigen\r
        `),o=v("br"),r=R(),i=v("br"),s=O(`\r
        Ma\xDFstab:`),f=v("br"),c=R(),a=v("input"),g=O(` ft./Quadrat\r
        `),q=v("br"),_=R(),u=v("br"),k=R(),z=v("button"),z.textContent="OK",m(n,"type","checkbox"),m(a,"type","number"),m(a,"class","w-12 border-2"),m(z,"class","border-2 rounded-xl p-2 m-2 bg-black text-white"),m(e,"class","h-full w-full bg-white rounded-xl p-8")},m(p,S){y(p,e,S),b(e,n),n.checked=t[0],b(e,l),b(e,o),b(e,r),b(e,i),b(e,s),b(e,f),b(e,c),b(e,a),le(a,t[1]),b(e,g),b(e,q),b(e,_),b(e,u),b(e,k),b(e,z),h||(d=[P(n,"change",t[3]),P(a,"input",t[4]),P(z,"click",t[5])],h=!0)},p(p,S){S&1&&(n.checked=p[0]),S&2&&re(a.value)!==p[1]&&le(a,p[1])},d(p){p&&w(e),h=!1,U(d)}}}function We(t){let e,n,l,o;return{c(){e=v("div"),n=v("button"),n.textContent="Einstellungen",m(n,"class","border-2 rounded-xl p-2 m-2 bg-black text-white"),m(e,"class","m-0 absolute bottom-4 left-4 flex items-center")},m(r,i){y(r,e,i),b(e,n),l||(o=P(n,"click",t[7]),l=!0)},p:E,d(r){r&&w(e),l=!1,o()}}}function xt(t){let e,n,l,o,r;function i(c){t[6](c)}let s={$$slots:{default:[qt]},$$scope:{ctx:t}};t[2]!==void 0&&(s.isOpen=t[2]),e=new St({props:s}),W.push(()=>J(e,"isOpen",i));let f=!t[2]&&We(t);return{c(){I(e.$$.fragment),l=R(),f&&f.c(),o=D()},m(c,a){Q(e,c,a),y(c,l,a),f&&f.m(c,a),y(c,o,a),r=!0},p(c,[a]){const g={};a&263&&(g.$$scope={dirty:a,ctx:c}),!n&&a&4&&(n=!0,g.isOpen=c[2],G(()=>n=!1)),e.$set(g),c[2]?f&&(f.d(1),f=null):f?f.p(c,a):(f=We(c),f.c(),f.m(o.parentNode,o))},i(c){r||(A(e.$$.fragment,c),r=!0)},o(c){N(e.$$.fragment,c),r=!1},d(c){j(e,c),c&&w(l),f&&f.d(c),c&&w(o)}}}function Mt(t,e,n){let{showReach:l=!0}=e,{footPerSquare:o=5}=e,r=!1;function i(){l=this.checked,n(0,l)}function s(){o=re(this.value),n(1,o)}const f=()=>n(2,r=!1);function c(g){r=g,n(2,r)}const a=()=>n(2,r=!0);return t.$$set=g=>{"showReach"in g&&n(0,l=g.showReach),"footPerSquare"in g&&n(1,o=g.footPerSquare)},[l,o,r,i,s,f,c,a]}class Pt extends H{constructor(e){super(),Z(this,e,Mt,xt,B,{showReach:0,footPerSquare:1})}}function Ce(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function De(t){let e,n=t[3].name+"",l,o,r;function i(){return t[2](t[5])}return{c(){e=v("button"),l=O(n),m(e,"class","p-2 rounded-lg bg-slate-200 border-4"),_e(e,"border-red-400",t[5]===t[0])},m(s,f){y(s,e,f),b(e,l),o||(r=P(e,"click",i),o=!0)},p(s,f){t=s,f&2&&n!==(n=t[3].name+"")&&L(l,n),f&1&&_e(e,"border-red-400",t[5]===t[0])},d(s){s&&w(e),o=!1,r()}}}function Rt(t){let e,n=t[1],l=[];for(let o=0;o<n.length;o+=1)l[o]=De(Ce(t,n,o));return{c(){e=v("div");for(let o=0;o<l.length;o+=1)l[o].c();m(e,"class","absolute p-2 top-0 z-10")},m(o,r){y(o,e,r);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(o,[r]){if(r&3){n=o[1];let i;for(i=0;i<n.length;i+=1){const s=Ce(o,n,i);l[i]?l[i].p(s,r):(l[i]=De(s),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},i:E,o:E,d(o){o&&w(e),C(l,o)}}}function Ot(t,e,n){let{players:l=[]}=e,{player:o=0}=e;const r=i=>n(0,o=i);return t.$$set=i=>{"players"in i&&n(1,l=i.players),"player"in i&&n(0,o=i.player)},[o,l,r]}class Et extends H{constructor(e){super(),Z(this,e,Ot,Rt,B,{players:1,player:0})}}function At(t){let e,n,l,o;return{c(){e=v("div"),n=v("button"),n.textContent="+/-",m(n,"class","p-2 rounded-lg bg-slate-200 border-4"),m(e,"class","absolute p-2 top-0 right-4 z-10")},m(r,i){y(r,e,i),b(e,n),l||(o=P(n,"click",t[0]),l=!0)},p:E,i:E,o:E,d(r){r&&w(e),l=!1,o()}}}function Nt(t,e,n){let{zoom:l=1}=e;function o(){const r=[.5,1,1.5];let i=r.indexOf(l);i++,i>r.length-1&&(i=0),n(1,l=r[i])}return t.$$set=r=>{"zoom"in r&&n(1,l=r.zoom)},[o,l]}class Xt extends H{constructor(e){super(),Z(this,e,Nt,At,B,{zoom:1})}}function Qt(t){let e,n;return e=new kt({props:{player:t[4],players:t[6],footPerSquare:t[2],showReach:t[3],zoom:t[5],imageUrl:"/src/assets/Galandrions Dorf.jpg"}}),{c(){I(e.$$.fragment)},m(l,o){Q(e,l,o),n=!0},p(l,o){const r={};o&16&&(r.player=l[4]),o&4&&(r.footPerSquare=l[2]),o&8&&(r.showReach=l[3]),o&32&&(r.zoom=l[5]),e.$set(r)},i(l){n||(A(e.$$.fragment,l),n=!0)},o(l){N(e.$$.fragment,l),n=!1},d(l){j(e,l)}}}function jt(t){let e,n,l,o,r,i,s,f,c,a,g,q,_,u,k,z,h;oe(t[7]),n=new st({props:{$$slots:{default:[Qt]},$$scope:{ctx:t}}});function d(x){t[8](x)}function p(x){t[9](x)}let S={};t[3]!==void 0&&(S.showReach=t[3]),t[2]!==void 0&&(S.footPerSquare=t[2]),o=new Pt({props:S}),W.push(()=>J(o,"showReach",d)),W.push(()=>J(o,"footPerSquare",p)),f=new gt({});function $(x){t[10](x)}let ue={players:t[6]};t[4]!==void 0&&(ue.player=t[4]),a=new Et({props:ue}),W.push(()=>J(a,"player",$));function Ye(x){t[11](x)}let de={};return t[5]!==void 0&&(de.zoom=t[5]),_=new Xt({props:de}),W.push(()=>J(_,"zoom",Ye)),{c(){e=v("main"),I(n.$$.fragment),l=R(),I(o.$$.fragment),s=R(),I(f.$$.fragment),c=R(),I(a.$$.fragment),q=R(),I(_.$$.fragment),m(e,"class","overflow-hidden relative p-0"),M(e,"height",t[1]+"px"),M(e,"width",t[0]+"px")},m(x,X){y(x,e,X),Q(n,e,null),b(e,l),Q(o,e,null),b(e,s),Q(f,e,null),b(e,c),Q(a,e,null),b(e,q),Q(_,e,null),k=!0,z||(h=P(window,"resize",t[7]),z=!0)},p(x,[X]){const he={};X&4156&&(he.$$scope={dirty:X,ctx:x}),n.$set(he);const ie={};!r&&X&8&&(r=!0,ie.showReach=x[3],G(()=>r=!1)),!i&&X&4&&(i=!0,ie.footPerSquare=x[2],G(()=>i=!1)),o.$set(ie);const me={};!g&&X&16&&(g=!0,me.player=x[4],G(()=>g=!1)),a.$set(me);const pe={};!u&&X&32&&(u=!0,pe.zoom=x[5],G(()=>u=!1)),_.$set(pe),(!k||X&2)&&M(e,"height",x[1]+"px"),(!k||X&1)&&M(e,"width",x[0]+"px")},i(x){k||(A(n.$$.fragment,x),A(o.$$.fragment,x),A(f.$$.fragment,x),A(a.$$.fragment,x),A(_.$$.fragment,x),k=!0)},o(x){N(n.$$.fragment,x),N(o.$$.fragment,x),N(f.$$.fragment,x),N(a.$$.fragment,x),N(_.$$.fragment,x),k=!1},d(x){x&&w(e),j(n),j(o),j(f),j(a),j(_),z=!1,h()}}}function Wt(t,e,n){let l=15,o=!0;const r=[{ini:12,color:"green",name:"Galandrion",x:10,y:10,type:"pc",reach:10,size:2},{ini:8,color:"red",name:"Junger gr\xFCner Drache",x:5,y:5,type:"npc",reach:30,size:5},{ini:8,color:"blue",name:"Ork",x:8,y:8,type:"npc",reach:10,size:5}];let i=0,s,f,c;function a(){n(0,s=window.innerWidth),n(1,f=window.innerHeight)}function g(k){o=k,n(3,o)}function q(k){l=k,n(2,l)}function _(k){i=k,n(4,i)}function u(k){c=k,n(5,c)}return t.$$.update=()=>{t.$$.dirty&3&&console.log(s,f)},[s,f,l,o,i,c,r,a,g,q,_,u]}class Ct extends H{constructor(e){super(),Z(this,e,Wt,jt,B,{})}}new Ct({target:document.getElementById("app")});
